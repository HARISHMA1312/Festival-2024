<!DOCTYPE html>

<html lang="en">



<head>

    <meta charset="UTF-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Snippet Lab</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>

    <link rel="stylesheet" href="codemirror/codemirror-5.65.17/lib/codemirror.css">

    <script src="codemirror/codemirror-5.65.17/lib/codemirror.js"></script>

    <script src="codemirror/codemirror-5.65.17/mode/clike/clike.js"></script>

    <script src="codemirror/codemirror-5.65.17/mode/python/python.js"></script>

    <link rel="stylesheet" href="codemirror/codemirror-5.65.17/theme/dracula.css">

    <link rel="stylesheet" href="codemirror/codemirror-5.65.17/theme/eclipse.css">

    <link rel="stylesheet" href="codemirror/codemirror-5.65.17/theme/material.css">

    <link rel="stylesheet" href="codemirror/codemirror-5.65.17/theme/monokai.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: rgb(79, 77, 77);
            margin: 0;
            padding: 0;
        }

        .navbar {
            background: linear-gradient(90deg, #C5C6C7);
            padding: 15px 20px;
            color: #fff;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.6);
        }

        .navbar h1 {
            margin: 0;
            font-size: 26px;
            font-weight: bold;
            letter-spacing: 1px;
            color: #0b0b0b;
        }

        .navbar a {
            color: #0b0b0b;
            text-decoration: none;
            padding: 10px 15px;
            margin: 0 10px;
            border-radius: 20px;
            font-weight: 500;
            transition: background-color 0.3s, box-shadow 0.3s;
        }

        .navbar a:hover {
            background-color: rgba(255, 255, 255, 0.2);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        #share {

            color: #171717;
            /* Adjust text color as needed */
            background-color: #FFFFFF;
            /* Initial button color */
            border: none;
            padding: 10px 15px;
            border-radius: 20px;
            font-weight: 500;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            transition: background-color 0.3s, box-shadow 0.3s;
        }

        #share:hover {
            background-color: rgba(36, 253, 79, 0.801);
            box-shadow: 0 4px 6px rgba(36, 253, 79, 0.6);
        }

        .styled {
            margin: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 18px;
            font-weight: bold;
            letter-spacing: 1px;
            color: #FFFFFF;
            color: #FFFFFF;
            text-decoration: none;
            padding: 10px 15px;
            margin: 0 10px;
            border-radius: 20px;
            font-weight: 500;
            transition: background-color 0.3s, box-shadow 0.3s;

        }

        



        .btn_btn-success {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            padding: 10px 15px;
            font-size: 15px;
            color: #0e0f0fba;
            background-color: #FFFFFF;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s ease;

            text-decoration: none;

            margin: 0 10px;
            border-radius: 20px;
            font-weight: 500;
            transition: background-color 0.3s, box-shadow 0.3s;

        }

        .btn_btn-success:hover {
            background-color: rgba(36, 253, 79, 0.801);
            box-shadow: 0 4px 6px rgba(36, 253, 79, 0.6);
        }

        .custom-color {
            background-color:  #282a36;
            /* Your desired background color */
        }
        .form-select {
    border-radius: 0.5rem; /* Rounded borders */
    backdrop-filter: blur(10px); /* Blur effect */
    background-color: rgba(255, 255, 255, 0.8); /* Slightly transparent background */
    transition: background-color 0.3s, border-color 0.3s; /* Smooth transition */
}

.form-select:hover,
.form-select:focus {
    background-color: rgba(255, 255, 255, 1); /* Full opacity on hover/focus */
    border-color: #007bff; /* Change border color on hover/focus */
    box-shadow: 0 0 5px rgba(0, 123, 255, 0.5); /* Add shadow effect */
}



        
    </style>



</head>



<body>
    <div class="navbar">
        <div class="d-flex align-items-center">
            <img src="images/logo.png" alt="Logo" style="height: 50px; margin-right: 10px;" />
            <h1>SnippetLab</h1>
        </div>
        <div>
            <a href="#">Home</a>
            <a href="#">Sign in</a>
            <a href="#">Sign up</a>
            <a href="#">Login</a>
        </div>
    </div>







    <div class="row m-3">

        <div class="col">

            <div class="d-flex justify-content-between mb-2 bg-dark rounded p-2">

                <div class="col-12 w-25">

                    <label class="visually-hidden" for="inlineFormSelectPref">Preference</label>

                    <select class="form-select" id="inlineFormSelectPref"  >

                        <option selected="">Choose Language...</option>

                        <option value="Java">Java</option>

                        <option value="Cpp">Cpp</option>

                        <option value="Python">Python</option>

                        <option value="C">C</option>

                    </select>

                </div>

                <div class="col-12 w-25">

                    <label class="visually-hidden" for="themeSelect">Theme</label>

                    <select class="form-select" id="themeSelect" >

                        <option selected="">Choose Theme...</option>

                        <option value="dracula">Dracula</option>

                        <option value="eclipse">Eclipse</option>

                        <option value="material">Material</option>

                        <option value="monokai">Monokai</option>

                    </select>

                </div>

                <div>

                    <button type="button" id="run" class="btn_btn-success">Run</button>

                </div>

            </div>

            <textarea type="text" id="editor" class="form-control" aria-label="Code Editor"></textarea>

        </div>

        <div class="col d-flex flex-column rounded px-4 custom-color" >
            <div class="h-50">
                <label for="Input" class="styled">Input</label>
                <textarea id="input" class="styled-textarea form-control h-75" aria-label="Input"
                    style="background-color: #FFFFFF"></textarea>
            </div>

            <div class="h-50">
                <label for="Output" class="styled">Output</label>
                <textarea id="output" class="styled-textarea form-control h-75" aria-label="Output"
                    style="background-color:  #FFFFFF"></textarea>
            </div>
        </div>

    </div>



    <div class="text-center mb-3">

        <button type="button" id="share" class="styled">Share</button>

    </div>

    <script>

        var editor = CodeMirror.fromTextArea(document.getElementById("editor"), {

            mode: "text/x-c++src",

            theme: "dracula",

            lineNumbers: true,

            autoCloseBrackets: true,

        });



        var width = window.innerWidth;

        var input = document.getElementById("input");

        var output = document.getElementById("output");

        var run = document.getElementById("run");

        var themeSelect = document.getElementById("themeSelect");



        editor.setSize(0.7 * width, "500");



        var option = document.getElementById("inlineFormSelectPref");

        option.addEventListener("change", function () {

            if (option.value == "Java") {

                editor.setOption("mode", "text/x-java");

            }

            else if (option.value == "Python") {

                editor.setOption("mode", "text/x-python");

            }
            else if (option.value == "C") {
                editor.setOption("mode", "text/x-csrc");
            }

            else {

                editor.setOption("mode", "text/x-c++src");

            }

        });



        themeSelect.addEventListener("change", function () {

            editor.setOption("theme", themeSelect.value);

        });



        function captureScreenshot() {

            const screenshotName = prompt("Enter the name for your screenshot:", "screenshot");

            if (screenshotName) {

                html2canvas(document.body).then(canvas => {

                    const img = canvas.toDataURL("image/png");

                    const link = document.createElement('a');

                    link.href = img;

                    link.download = screenshotName + '.png';

                    link.click();

                });

            }

        }



        document.getElementById("share").addEventListener("click", function () {

            const option = prompt("Choose an option: 'screenshot' or 'pdf'");

            if (option === 'screenshot') {

                captureScreenshot();

            } else if (option === 'pdf') {

                saveAsPDF();

            } else {

                alert("Invalid option! Please choose either 'screenshot' or 'pdf'.");

            }

        });







        function saveAsPDF() {

            const pdfName = prompt("Enter the name for your PDF:", "document");

            if (pdfName) {

                html2canvas(document.body).then(canvas => {

                    const imgData = canvas.toDataURL("image/png");

                    const { jsPDF } = window.jspdf;

                    const pdf = new jsPDF('l', 'mm', 'a4');

                    pdf.addImage(imgData, 'PNG', 0, 0, 210, 297);  // 210mm width and 297mm height for A4 size 

                    pdf.save(pdfName + '.pdf');

                });

            }

        }





        run.addEventListener("click", async function () {

            const code = {

                code: editor.getValue(),

                input: input.value,

                lang: option.value

            };

            console.log(code);

            const oData = await fetch("http://localhost:3000/compile", {

                method: "POST",

                headers: {

                    "Content-Type": "application/json"

                },

                body: JSON.stringify(code)

            });

            const d = await oData.json();

            output.value = d.output;

        });

    </script>

</body>



</html>