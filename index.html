<!DOCTYPE html> 

<html lang="en"> 

 

<head> 

    <meta charset="UTF-8"> 

    <meta http-equiv="X-UA-Compatible" content="IE=edge"> 

    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

    <title>CodePlayGround</title> 

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"> 

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script> 

    <link rel="stylesheet" href="codemirror/codemirror-5.65.17/lib/codemirror.css"> 

    <script src="codemirror/codemirror-5.65.17/lib/codemirror.js"></script> 

    <script src="codemirror/codemirror-5.65.17/mode/clike/clike.js"></script> 

    <script src="codemirror/codemirror-5.65.17/mode/python/python.js"></script> 

    <link rel="stylesheet" href="codemirror/codemirror-5.65.17/theme/dracula.css"> 

    <link rel="stylesheet" href="codemirror/codemirror-5.65.17/theme/eclipse.css"> 

    <link rel="stylesheet" href="codemirror/codemirror-5.65.17/theme/material.css"> 

    <link rel="stylesheet" href="codemirror/codemirror-5.65.17/theme/monokai.css"> 

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script> 

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script> 

 

    <style> 

        /* Playful Footer Styles */ 

        footer { 

            background-color: #171716; 

            color: #333; 

            text-align: center; 

            padding: 10px 0; 

            font-family: 'Comic Sans MS', cursive, sans-serif; 

            position: fixed; 

            bottom: 0; 

            width: 100%; 

            animation: fadeIn 2s ease-in-out; 

        } 

 

        /* Animation for the "CodePlayGround" text */ 

        .footer-text { 

            font-size: 2rem; 

            font-weight: bold; 

            color: #ff4081; 

            animation: animateText 3s linear infinite; 

        } 

 

        @keyframes animateText { 

            0% { 

                color: #ff4081; 

            } 

            25% { 

                color: #ff5722; 

            } 

            50% { 

                color: #00bcd4; 

            } 

            75% { 

                color: #8bc34a; 

            } 

            100% { 

                color: #ff4081; 

            } 

        } 

 

        @keyframes fadeIn { 

            from { 

                opacity: 0; 

            } 

            to { 

                opacity: 1; 

            } 

        } 

    </style> 

</head> 

 

<body> 

    <!-- Main content of the page (as provided) --> 

    <div class="row m-3"> 

        <div class="col"> 

            <div class="d-flex justify-content-between mb-2 bg-dark rounded p-2"> 

                <div class="col-12 w-25"> 

                    <label class="visually-hidden" for="inlineFormSelectPref">Preference</label> 

                    <select class="form-select" id="inlineFormSelectPref"> 

                        <option selected="">Choose Language...</option> 

                        <option value="Java">Java</option> 

                        <option value="Cpp">Cpp</option> 

                        <option value="Python">Python</option> 

                    </select> 

                </div> 

                <div class="col-12 w-25"> 

                    <label class="visually-hidden" for="themeSelect">Theme</label> 

                    <select class="form-select" id="themeSelect"> 

                        <option selected="">Choose Theme...</option> 

                        <option value="dracula">Dracula</option> 

                        <option value="eclipse">Eclipse</option> 

                        <option value="material">Material</option> 

                        <option value="monokai">Monokai</option> 

                    </select> 

                </div> 

                <div> 

                    <button type="button" id="run" class="btn btn-success"><i class="bi bi-play-fill">Run</i></button> 

                </div> 

            </div> 

            <textarea type="text" id="editor" class="form-control" aria-label="Code Editor"></textarea> 

        </div> 

        <div class="col d-flex flex-column rounded bg-dark px-4"> 

            <div class="h-50"> 

                <label for="Input" class="text-light mt-4 mb-2">Input</label> 

                <textarea type="text" id="input" class="form-control h-75" aria-label="Input"></textarea> 

            </div> 

            <div class="h-50"> 

                <label for="Output" class="text-light mb-2">Output</label> 

                <textarea type="text" id="output" class="form-control h-75" aria-label="Output"></textarea> 

            </div> 

        </div> 

    </div> 

 

    <div class="text-center mb-3"> 

        <button type="button" id="share" class="btn btn-primary">Share</button> 

    </div> 

 

    <!-- Playful Footer --> 

    <footer> 

        <span class="footer-text">CodePlayGround</span> 

    </footer> 

 

    <script> 

        var editor = CodeMirror.fromTextArea(document.getElementById("editor"), { 

            mode: "text/x-c++src", 

            theme: "dracula", 

            lineNumbers: true, 

            autoCloseBrackets: true, 

        }); 

 

        var width = window.innerWidth; 

        var input = document.getElementById("input"); 

        var output = document.getElementById("output"); 

        var run = document.getElementById("run"); 

        var themeSelect = document.getElementById("themeSelect"); 

 

        editor.setSize(0.7 * width, "500"); 

 

        var option = document.getElementById("inlineFormSelectPref"); 

        option.addEventListener("change", function () { 

            if (option.value == "Java") { 

                editor.setOption("mode", "text/x-java"); 

            } 

            else if (option.value == "Python") { 

                editor.setOption("mode", "text/x-python"); 

            } 

            else { 

                editor.setOption("mode", "text/x-c++src"); 

            } 

        }); 

 

        themeSelect.addEventListener("change", function () { 

            editor.setOption("theme", themeSelect.value); 

        }); 

 

        function captureScreenshot() { 

            const screenshotName = prompt("Enter the name for your screenshot:", "screenshot"); 

            if (screenshotName) { 

                html2canvas(document.body).then(canvas => { 

                    const img = canvas.toDataURL("image/png"); 

                    const link = document.createElement('a'); 

                    link.href = img; 

                    link.download = screenshotName + '.png'; 

                    link.click(); 

                }); 

            } 

        } 

 

        document.getElementById("share").addEventListener("click", function () { 

    const option = prompt("Choose an option: 'screenshot' or 'pdf'"); 

    if (option === 'screenshot') { 

        captureScreenshot(); 

    } else if (option === 'pdf') { 

        saveAsPDF(); 

    } else { 

        alert("Invalid option! Please choose either 'screenshot' or 'pdf'."); 

    } 

}); 

 

 

 

function saveAsPDF() { 

    const pdfName = prompt("Enter the name for your PDF:", "document"); 

    if (pdfName) { 

        html2canvas(document.body).then(canvas => { 

            const imgData = canvas.toDataURL("image/png"); 

            const { jsPDF } = window.jspdf; 

            const pdf = new jsPDF('p', 'mm', 'a4'); 

            pdf.addImage(imgData, 'PNG', 0, 0, 210,297 );  // 210mm width and 297mm height for A4 size 

            pdf.save(pdfName + '.pdf'); 

        }); 

    } 

} 

 

 

        run.addEventListener("click", async function () { 

            const code = { 

                code: editor.getValue(), 

                input: input.value, 

                lang: option.value 

            }; 

            console.log(code); 

            const oData = await fetch("http://localhost:3000/compile", { 

                method: "POST", 

                headers: { 

                    "Content-Type": "application/json" 

                }, 

                body: JSON.stringify(code) 

            }); 

            const d = await oData.json(); 

            output.value = d.output; 

        }); 

    </script> 

</body> 

 

</html> 